!!! strict
html
    head
        // Preload checks: noscript - mobile - IE
        noscript
          meta(http-equiv="refresh", content="0; url=no_script")
          
        // Go to specific lesser IE version or try and render the appropriate interface, notice non-defered
        <!--[if lte IE 7]>
        script
          window.location = "no_script";
        <![endif]-->
        
        // Title and metas
        title= title
        meta(http-equiv="Content-Type", content="text/html; charset=UTF-8")
        meta(http-equiv="X-UA-Compatible", content="IE=9")
        meta(name="language", content="en-us")
        meta(name="google-site-verification", content="235PQo0UN80dd5QGhY0NR8UGc2HkUTW_8qTSduslRBs")// required for google webmasters
        meta(name="description", content="Jacob Friesen's Portfolio Website. Contains information on Jacob's previous work, skills, and projects.")
        meta(name="keywords", content= "jacob friesen, jacob friesen web developer, jacob, JACOB, jacob friesen's website")
        meta(name="revisit-after", content="1 day")
        meta(name="classification", content="Jacob Friesen, Home")
        meta(name="Robots", content="INDEX,FOLLOW")
        link(rel="shortcut icon", href="images/favicon.ico", type="image/x-icon")
    body
        script(src="javascripts/Selector.js")
        // Script inlined for faster initialization
        //script
        //    Portfolio={};
        //    Portfolio.selector=function(b){var e="desktop";return{scripts:{js_loaded:[],common:{js_location:"",js:"/javascripts/jquery.min.js /javascripts/jquery.lightbox_me.min.js /javascripts/jquery.history.min.js /javascripts/prettify.min.js /javascripts/underscore.min.js /javascripts/History.min.js /javascripts/Utility.min.js /constants.min.js /javascripts/Blog.min.js".split(" ")},desktop:{js_location:"/javascripts/desktop/",js:["min.js"],css_location:"",css:"/stylesheets/desktop/style_c.css /stylesheets/desktop/experience_c.css /stylesheets/desktop/skills_c.css /stylesheets/desktop/demos_c.css /stylesheets/desktop/blog_c.css /stylesheets/desktop/window_tiles_c.css /stylesheets/desktop/icbm.css http://google-code-prettify.googlecode.com/svn/trunk/src/prettify.css".split(" ")},mobile:{js_location:"/javascripts/mobile/",
        //    js:["min.js"],css_location:"",css:"/stylesheets/mobile/style.css /stylesheets/mobile/experience.css /stylesheets/mobile/skills.css /stylesheets/mobile/demos.css /stylesheets/mobile/blog.css http://google-code-prettify.googlecode.com/svn/trunk/src/prettify.css".split(" ")}},loaded:{pages:0,js:0,css:0},PAGES_TO_LOAD:2,init:function(a,c,b){if("undefined"!==typeof mocha&&a)return this;0<b.search("mobile")||720>=c?this.render_mobile():this.render_desktop();return this},render_mobile:function(){e="mobile";
        //    var a=b.createElement("meta");a.name="viewport";a.id="viewport";a.content="width=device-width, initial-scale=1.0";b.head.appendChild(a);this.load_css();this.load_js();this.load_pages(window.location)},render_desktop:function(){b.head||(b.head=b.getElementsByTagName("head")[0]);e="desktop";b.body.style.display="none";this.load_css();this.load_js();this.load_pages(window.location)},start_system:function(){b.body.style.display="block";for(var a=0;a<this.scripts.js_loaded.length;a+=1){var c=b.createElement("script");
        //    c.text=this.scripts.js_loaded[a];c.id="script_injection_"+a;b.head.appendChild(c)}Portfolio.start_system()},is_system_loaded:function(){return this.loaded.css==this.scripts[e].css.length&&this.loaded.js==this.scripts[e].js.length+this.scripts.common.js.length&&this.loaded.pages==this.PAGES_TO_LOAD?!0:!1},add_cache:function(a,c){var e=a.replace("/","").replace("#","")+"_cache";if(null===b.getElementById(e)){var d=b.createElement("div");d.id=e;d.style.display="none";d.innerHTML=c;b.body.appendChild(d);
        //    return!0}return!1},mode_to_get:function(){return"?mode="+e},load_js:function(){var a=this;this.scripts.js_loaded=Array(this.scripts.common.js.length+this.scripts[e].js.length);for(var c=function(c,b){this.ajax_load("GET",c,function(c){a.scripts.js_loaded[b]=c;a.loaded.js+=1})},b=this.scripts.common.js.length,d=0;d<b;d+=1)c.call(this,this.scripts.common.js_location+this.scripts.common.js[d],d);for(;d<this.scripts[e].js.length+b;d+=1)c.call(this,this.scripts[e].js_location+this.scripts[e].js[d-b],d)},
        //    load_css:function(){for(var a=0;a<this.scripts[e].css.length;a+=1){var c=b.createElement("link");c.rel="stylesheet";c.type="text/css";c.href=this.scripts[e].css_location+this.scripts[e].css[a];b.head.appendChild(c);this.loaded.css+=1}},load_pages:function(a){var c=this;c.ajax_load("GET","index"+this.mode_to_get(),function(a){c.add_to_body(a);c.loaded.pages+=1})||window.location("/no_script");var b=(a+"").split("#")[0],d=a.pathname;"undefined"===typeof a.pathname?d=b="/home":"/"===a.pathname&&(b+=
        //    "home",d="home");this.ajax_load("GET",b+this.mode_to_get(),function(a){c.add_cache(d,a);c.loaded.pages=c.loaded.pages+1})||window.location("/no_script")},add_to_body:function(a){"undefined"===typeof b.body.innerHTML&&(b.body.innerHTML="");b.body.innerHTML+=a},ajax_load:function(a,b,e,d){var f=function(){if(window.XMLHttpRequest)return new window.XMLHttpRequest;try{return new ActiveXObject("MSXML2.XMLHTTP")}catch(a){return null}}();if(null==f)return!1;f.open(a,b,!0);f.setRequestHeader("Content-Type",
        //    "application/json");f.onreadystatechange=function(){4==f.readyState&&200==f.status&&null!=e&&e(f.responseText)};f.send(d);return!0},set_mode:function(a){e=a},get_mode:function(){return e}}}(window.document).init(!0,screen.width,navigator.userAgent.toLowerCase());(function loaded(){Portfolio.selector.is_system_loaded()&&"undefined"===typeof mocha?Portfolio.selector.start_system():setTimeout(loaded,50)})();