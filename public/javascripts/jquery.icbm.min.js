// #ICBM (ICon Based Menu) JS VERSION 0.5, By Jacob Friesen, F.Jacob.J@gmail.com, MIT Licensed
(function(b){jQuery.fn.icbm=function a(c){this.REPLACE="_grey";this.menu_objs=[];this.add_mitems=function d(f){var h=this.REPLACE;var g=[];b(".icbm_object").each(function(){this.opened=false;var i=b(this).find(".icbm_image")[0];var j=i.src;this.remove_gscale=function(k){var l=b(k);l.attr("src",l.attr("src").replace(h,""))};b(this).mouseover(b.proxy(function(k){this.remove_gscale(i)},this));b(this).mouseout(function(k){if(this.opened==false){i.src=j}});b(this).click(b.proxy(function(k){f[j]()},this));g.push(this)});this.menu_objs=g};this.set_open=function e(f){b(this.menu_objs[f]).click()};this.settings={map_imgs:{},z_index:1};if(c){b.extend(this.settings,c)}b("#icon_based_bg").css("z-index",this.settings.z_index+"");b("#icon_based_menu").css("z-index",this.settings.z_index+"");this.add_mitems(this.settings.map_imgs);return this}})(jQuery);