if("function"!==typeof Object.nu)Object.nu=function(c){function a(){}a.prototype=c;return new a};else throw"Object.nu is already defined";
Portfolio.utility=function(c){return{SHOW:"-",HIDE:"+",init:function(){this.change_text.init();return this},browser_that_supports_float:function(a){var b=["iphone os "," like"];if(null==a)return!0;a=a.toLowerCase();if(0<=a.search("iphone")){if(a=a.split(b[0]),b=a[a.length-1].split(b[1])[0],4>=Number(b.split("_")[0]))return!1}else if(0<=a.search("opera"))return!1;return!0},attach_show_events:function(a){return Object.nu({init:function(b){this.triggers=a.triggers;this.event=a.event;this.collapsers=
a.collapsers;this.on_hide=a.on_hide;this.on_show=a.on_show;this.chk_attr="name";a.chk_attr&&(this.chk_attr=a.chk_attr);b||this.attach_events();return this},attach_events:function(){this.order_matchers_by_name();for(var b=0,a=0;b<this.triggers.length&&a<this.triggers.length;a++)c(this.triggers[b]).attr(this.chk_attr)==c(this.collapsers[a]).attr(this.chk_attr)&&(this.triggers[b].collapser=this.collapsers[a],c(this.triggers[b])[this.event](c.proxy(this.on_event,this)),b+=1)},on_event:function(b){b=b.currentTarget;
if("none"==c(b.collapser).css("display"))this.on_show(b,b.collapser);else this.on_hide(b,b.collapser)},open:function(b){this.do_event("on_show",b);return this},close:function(b){this.do_event("on_hide",b);return this},do_event:function(b,a){if("all"==a)for(var c=0;c<this.triggers.length;c++)this[b](this.triggers[c],this.triggers[c].collapser);else this[b](this.triggers[a],this.triggers[a].collapser)},order_matchers_by_name:function(){if(!this.triggers||!this.triggers.sort||!this.collapsers||!this.collapsers.sort)return!1;
if(this.triggers.length!=this.collapsers.length)throw"triggers must be the same length as collapsers";var b=this,a=function(a,d){return c(a).attr(b.chk_attr)>c(d).attr(b.chk_attr)?1:c(a).attr(b.chk_attr)<c(d).attr(b.chk_attr)?-1:0};this.triggers.sort(a);this.collapsers.sort(a);return!0},get_collapsee:function(a){a=a.id.split("_").pop();return c("#"+this.collapse_to+a)}}.init(a.delay))},change_text:{current_scale:1,to_change:[[document.body,-1],["h1",-1],["h4",-1]],to_small:function(){this.change_size_by(0.75)},
to_normal:function(){this.change_size_by(1)},to_large:function(){this.change_size_by(1.25)},init:function(){for(var a=0;a<this.to_change.length;a++)this.register_element(this.to_change[a][0],a)},register_elements:function(a){for(var b=0;b<a.length;b++){var d=c(a[b]),e=d[0]&&1<d.length?Number(d.first().css("font-size").replace("px","")):Number(d.css("font-size").replace("px",""));this.to_change.push([a[b],e]);this.register_element(a[b],this.to_change.length-1);d.css("font-size",Number(d.css("font-size").replace("px",
""))*this.current_scale)}this.change_size_by(this.current_scale)},register_element:function(a,b){var d=c(a).first();d[0]&&(this.to_change[b][1]=Number(d.css("font-size").replace("px","")))},change_size_by:function(a){this.current_scale=a;for(var b=0;b<this.to_change.length;b++){var d=c(this.to_change[b][0]),e=this.to_change[b][1];if(d[0]&&1<d.length)for(var f=0;f<d.length;f++)c(d[f]).css("font-size",e*a);else d[0]&&d.css("font-size",e*a)}}}}}(jQuery).init();
