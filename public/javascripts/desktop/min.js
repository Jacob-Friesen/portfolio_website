(function(a,g){a.fn.menu_to_actions=function(b){var d=this;this.REPLACE="_grey";this.CACHE="cached_";this.menu_objects=[];this.settings={after_opening:null,map_imgs:{},menu_image_at:null};b&&a.extend(this.settings,b);this.add_menu_items=function(b,c,i){var j=this;this.each(function(h){var f=this;this.opened=!1;this.img=a(this).find(c)[0];var d=this.img.src.replace("http://"+window.location.hostname+"/","");this.set_gscale=function(b){function e(b){var f=a("#"+j.CACHE+i.split("_").shift()+b).clone(!0,
!0);f[0].style.display="inline";f[0].id=f[0].id.replace(j.CACHE,"")+b;c.replaceWith(f);this.img=f}var c=a(f.img),i=c.attr("src").split("/").pop();b?-1==c.attr("src").search(j.REPLACE)&&(e.call(this,j.REPLACE),this.opened=!1):e.call(this,"")};a(this).mouseenter(function(){f.set_gscale(!1)});a(this).parent().mouseleave(function(){!1===f.opened&&f.set_gscale(!0)});a(this).mouseleave(function(){!1===f.opened&&f.set_gscale(!0)});a(this).mouseup(function(){this.open()});this.open=function(a){j.all_to_grey();
try{b[d](this.img)}catch(f){b["http://"+Portfolio.location+"/"+d](this.img)}this.set_gscale(!1);this.opened=!0;a=!a?h:a;a=a>=g.length?"":g[a].toLowerCase();i(a)};j.menu_objects.push(this)})};this.all_to_grey=function(){for(var a=0;a<this.menu_objects.length;a++)this.menu_objects[a].set_gscale(!0)};this.set_open=function(b){var c=b,b=b>=g.length?0:b;a(d.menu_objects[b])[0].open(c)};this.add_menu_items(this.settings.map_imgs,this.settings.menu_image_at,this.settings.after_opening);return this}})(jQuery,
Portfolio.constants.pages);Portfolio.skills=function(a,g,b){return{init:function(){for(var d=b.attach_show_events({triggers:a("div[id^=skills_collapse_skill]:visible"),event:"click",collapsers:a("div[id^=collapse_points_skill]:visible"),delay:!1,on_show:function(c,e){a(e).show();a(c).parent().attr("class","skillsOpen");a("#skills_collapse_button_"+c.id.split("_").pop())[0].innerHTML=b.SHOW},on_hide:function(c,e){a(e).hide();a(c).parent().attr("class","skills");a("#skills_collapse_button_"+c.id.split("_").pop())[0].innerHTML=
b.HIDE}}),e=g.page_text.skills.skill_types,c=0;c<e.length;c++)b.attach_show_events({triggers:a("div[id^=skills_point_collapse_skill_"+c+"]:visible"),event:"click",collapsers:a("div[id^=collapse_point_points_skill_"+c+"]:visible"),delay:!1,parent:this,on_show:function(c,e){a(e).show();a(c).children("button")[0].innerHTML=b.SHOW},on_hide:function(c,e){a(e).hide();a(c).children("button")[0].innerHTML=b.HIDE}}).close("all");d.close("all").open(0)}}}(jQuery,Portfolio.constants,Portfolio.utility);Portfolio.experience=function(a,g){return{init:function(){for(var b=a(".jobTitle:visible"),d=0;d<b.length;d++)a("#job"+d+"jobText")[0]||(b.splice(d,1),d--);g.attach_show_events({triggers:b,event:"click",collapsers:a(".jobText:visible"),delay:!1,on_show:function(b,c){a(c).show();a(b).parent().attr("class","jobOpen");a("#job"+b.id[b.id.length-1]+"Clps")[0].innerHTML=g.SHOW},on_hide:function(b,c){a(c).hide();a(b).parent().attr("class","job");a("#job"+b.id[b.id.length-1]+"Clps")[0].innerHTML=g.HIDE}}).close("all").open(0)}}}(jQuery,
Portfolio.utility);Portfolio.demos=function(a,g){return{init:function(){g.attach_show_events({triggers:a('div[id^="demo_"]:visible'),event:"click",collapsers:a('div[id^="demolinks_"]:visible'),delay:!1,on_show:function(b,d){a(d).show();a(b).parent().attr("class","demoPaneOpen");a("#demo"+b.id[b.id.length-1]+"Clps")[0].innerHTML=g.SHOW},on_hide:function(b,d){a(d).hide();a(b).parent().attr("class","demoPane");a("#demo"+b.id[b.id.length-1]+"Clps")[0].innerHTML=g.HIDE}}).close("all").open(0)},resize_img:function(b){b=a("<img/>").attr("src",
b.src.replace("_s","")).attr("id",b.id+"_clone");b.lightbox_me({destroyOnClose:!0,centered:!0});b.click(function(){a(this).trigger("close")})}}}(jQuery,Portfolio.utility);Portfolio.location=window.location.hostname;
Portfolio.start_system=function(a,g,b,d,e,c,i){function j(a,b){h=!h?b:h;switch(a){case "home":h(0);break;case "skills":h(1);break;case "experience":h(2);break;case "demos":h(3);break;case "blog":h(4);break;case "":h(5);break;default:h(0)}}var h=null;return function(){b=Portfolio.history_tracking;e=Portfolio.pages;c=Portfolio.window_details;""!=a.location.port&&(i+=":"+a.location.port);var f={},d=["/images/menu_icons/home_page_grey.png","/images/menu_icons/skills_page_grey.png","/images/menu_icons/experience_page_grey.png",
"/images/menu_icons/demos_page_grey.png","/images/menu_icons/blog_page_grey.png"];f["http://"+i+d[0]]=function(a){c.open_item(a,e.init_home)};f["http://"+i+d[1]]=function(a){c.open_item(a,e.init_skills)};f["http://"+i+d[2]]=function(a){c.open_item(a,e.init_exp)};f["http://"+i+d[3]]=function(a){c.open_item(a,e.init_demos)};f["http://"+i+d[4]]=function(a){c.open_item(a,e.init_blog)};f=g(".icbm_object").menu_to_actions({after_opening:function(a){b.after_page_loads(a)},map_imgs:f,menu_image_at:".icbm_image"});
b.init(e,j);d=1<(a.location+"").split("#").length?(a.location+"").split("#").pop():a.location.pathname.replace("/","").replace("#","");j(d,f.set_open)}}(window,jQuery,Portfolio.history_tracking,Portfolio.page_history,Portfolio.pages,Portfolio.window_details,Portfolio.location);
Portfolio.pages=function(a,g,b,d,e,c,i,j){function h(){a("img").each(function(){-1==a(this).attr("class").search("icbm_image")&&("mainImg"!=a(this)[0].id&&"link"!=a(this).attr("class"))&&(a(j).off("mousedown","#"+this.id),a(j).on("mousedown","#"+this.id,function(a){"hMainPicture"===a.target.id?c.resize_img(a.target.childNodes[1]):c.resize_img(a.target)}))})}return{init_home:function(){h();a(".mainImage").each(function(b,c){a(c).attr("src",a("#mainImg").attr("src").replace("_s",""))})},init_skills:function(){h();
d.init()},init_exp:function(){h();e.init()},init_demos:function(){h();c.init()},init_blog:function(){h();i.init()},update_url:function(a){var c=a,a=""===a?"home":a;g.History.pushState(b.page_text[a].title+a+" page",b.page_text[a].title,"/"+c)}}}(jQuery,window,Portfolio.constants,Portfolio.skills,Portfolio.experience,Portfolio.demos,Portfolio.blog,window.document);Portfolio.window_details=function(a,g){return{menu_list:{},PAGE_INTO:"window",open_item:function(b,d){var e=a(b).attr("src");if(!this.menu_list[e]){var c=this.menu_list,i;i={child:null,item_id:a(b).attr("id").split("_").shift(),into:a("#"+this.PAGE_INTO),open_obj:function(){var b=a("#"+this.item_id+"_cache");null==b[0]?a.ajax({type:"GET",url:this.item_id+g.mode_to_get(),context:this,success:this.render_page}):this.render_page(b[0].innerHTML,!0)},render_page:function(a,b){!0!==b&&g.add_cache(this.item_id,
a);this.into[0].innerHTML=a;this.child=this.into.children(":first")[0];this.child.style.display="inline";if(null===d)throw"Error: exec_after must be specified";d()}};c[e]=i}this.menu_list[e].open_obj();e.split("/").pop().split("_");return this}}}(jQuery,Portfolio.selector,Portfolio.pages,navigator);
