(function(a){a.fn.lightbox_me=function(b){return this.each(function(){function c(){var b=h[0].style;d.destroyOnClose?h.add(g).remove():h.add(g).hide();d.parentLightbox&&d.parentLightbox.fadeIn(200);j.remove();h.undelegate(d.closeSelector,"click");a(window).unbind("reposition",e);a(window).unbind("reposition",f);a(window).unbind("scroll",f);a(window).unbind("keyup.lightbox_me");i&&b.removeExpression("top");d.onClose()}function e(){a(window).height()<a(document).height()?(g.css({height:a(document).height()+
"px"}),j.css({height:a(document).height()+"px"})):(g.css({height:"100%"}),i&&(a("html,body").css("height","100%"),j.css("height","100%")))}function f(){var b=h[0].style;h.css({left:"50%",marginLeft:-1*(h.outerWidth()/2),zIndex:d.zIndex+3});if(h.height()+80>=a(window).height()&&("absolute"!=h.css("position")||i)){var c=a(document).scrollTop()+40;h.css({position:"absolute",top:c+"px",marginTop:0});i&&b.removeExpression("top")}else h.height()+80<a(window).height()&&(i?(b.position="absolute",d.centered?
(b.setExpression("top",'(document.documentElement.clientHeight || document.body.clientHeight) / 2 - (this.offsetHeight / 2) + (blah = document.documentElement.scrollTop ? document.documentElement.scrollTop : document.body.scrollTop) + "px"'),b.marginTop=0):(c=d.modalCSS&&d.modalCSS.top?parseInt(d.modalCSS.top):0,b.setExpression("top","((blah = document.documentElement.scrollTop ? document.documentElement.scrollTop : document.body.scrollTop) + "+c+') + "px"'))):d.centered?h.css({position:"fixed",top:"50%",
marginTop:-1*(h.outerHeight()/2)}):h.css({position:"fixed"}).css(d.modalCSS))}var d=a.extend({},a.fn.lightbox_me.defaults,b),g=a(),h=a(this),j=a('<iframe id="foo" style="z-index: '+(d.zIndex+1)+';border: none; margin: 0; padding: 0; position: absolute; width: 100%; height: 100%; top: 0; left: 0; filter: mask();"/>'),i=a.browser.msie&&7>a.browser.version;d.showOverlay&&(g=0<a(".js_lb_overlay:visible").length?a('<div class="lb_overlay_clear js_lb_overlay"/>'):a('<div class="'+d.classPrefix+'_overlay js_lb_overlay"/>'));
if(i){var l=/^https/i.test(window.location.href||"")?"javascript:false":"about:blank";j.attr("src",l);a("body").append(j)}a("body").append(h.hide()).append(g);d.showOverlay&&(e(),g.css({position:"absolute",width:"100%",top:0,left:0,right:0,bottom:0,zIndex:d.zIndex+2,display:"none"}),g.hasClass("lb_overlay_clear")||g.css(d.overlayCSS));d.showOverlay?g.fadeIn(d.overlaySpeed,function(){f();h[d.appearEffect](d.lightboxSpeed,function(){e();f();d.onLoad()})}):(f(),h[d.appearEffect](d.lightboxSpeed,function(){d.onLoad()}));
d.parentLightbox&&d.parentLightbox.fadeOut(200);a(window).resize(e).resize(f).scroll(f);a(window).bind("keyup.lightbox_me",function(a){(a.keyCode==27||a.DOM_VK_ESCAPE==27&&a.which==0)&&d.closeEsc&&c()});d.closeClick&&g.click(function(a){c();a.preventDefault});h.delegate(d.closeSelector,"click",function(a){c();a.preventDefault()});h.bind("close",c);h.bind("reposition",f)})};a.fn.lightbox_me.defaults={appearEffect:"fadeIn",appearEase:"",overlaySpeed:250,lightboxSpeed:300,closeSelector:".close",closeClick:!0,
closeEsc:!0,destroyOnClose:!1,showOverlay:!0,parentLightbox:!1,onLoad:function(){},onClose:function(){},classPrefix:"lb",zIndex:999,centered:!1,modalCSS:{top:"40px"},overlayCSS:{background:"black",opacity:0.3}}})(jQuery);(function(a){a.fn.watch=function(b,c,e,f){function d(b,c,d){b.each(function(){var b=a(this);"object"==typeof b.get(0).onpropertychange?b.bind("propertychange."+c,d.fnc):a.browser.mozilla?b.bind("DOMAttrModified."+c,d.fnc):d.intervalId=setInterval(d.fnc,e)})}function g(b){var c=a(this),e=c.data(b);if(e&&e.func){c.unwatch(b);var f=!1,g=0;for(g;g<e.props.length;g++){var k=c.css(e.props[g]);if(e.vals[g]!=k){e.vals[g]=k;f=!0;break}}f&&e.func.call(this,e,g);d(c,b,e)}}e||(e=100);f||(f="_watcher");return this.each(function(){var h=
this,j=a(this),i={id:f,props:b.split(","),vals:[b.split(",").length],func:c,fnc:function(){g.call(h,f)},origProps:b,interval:e,intervalId:null};a.each(i.props,function(a){i.vals[a]=j.css(i.props[a])});j.data(f,i);d(j,f,i)})};a.fn.unwatch=function(b){this.each(function(){var c=a(this),e=c.data(b);try{"object"==typeof this.onpropertychange?c.unbind("propertychange."+b,e.fnc):a.browser.mozilla?c.unbind("DOMAttrModified."+b,e.fnc):clearInterval(e.intervalId)}catch(f){}});return this}})(jQuery);(function(a){jQuery.fn.window_tiles=function(b){this.settings={after:[]};b&&a.extend(this.settings,b);this.tile_list=[];this.PAGE_INTO="window";this.set_tiles=function(){a("#icon_based_menu").find("img").each(a.proxy(function(a,b){this.tile_list.push(Window_Tile(b,a,this.settings.after[a],this))},this))};this.open_item=function(a){this.tile_list[a].open_obj();pages.update_url(a);this.extra(a,!0)};this.extra=function(b,e){var f="none";!1==e&&(f="inline");a(".tile_menu_cent").each(function(e,g){a(g).children()[b].style.display=
f})};this.set_tiles();return this};Window_Tile=function(b,c,e,f){return{OPEN_TITLE:"Open...",ITEM_NUM:c,close_btn:null,child:null,item_id:b.id,into:a("#"+f.PAGE_INTO),into_html:null,into_old_xy:[null,null],tiles:f,exec_after:e,open_obj:function(){var b=a("#"+this.item_id+"_cache");null==b[0]?a.ajax({type:"GET",url:this.item_id+Selector.mode_to_get(),context:this,success:this.render_child}):this.render_child(b[0].innerHTML,!0)},render_child:function(b,c){!0!=c&&Selector.add_cache(this.item_id,b);this.into[0].innerHTML=
b;this.child=this.into.children(":first")[0];this.child.style.display="inline";a(this.into).height(a(this.child).height()+2);a(this.into).width(a(this.child).width());a(this.child).watch("height, width",function(){a(this.parentNode).height(a(this).height()+2);a(this.parentNode).width(a(this).width())});"Microsoft Internet Explorer"==navigator.appName&&this.IE_Listen();this.adtnl_work(this.child)},IE_Listen:function(){this.child.onpropertychange=function(){CHECK=50;this.height=0;a(this).children().each(a.proxy(function(b,
c){this.height+=a(c).height()},this));a(this.parentNode).height(this.height+45);a(this.parentNode).width(a(this).width());var b=this;setTimeout(function(){b.fireEvent("onpropertychange",document.createEventObject())},CHECK)}},adtnl_work:function(b){a(b.parentNode.parentNode).width(a(b.parentNode).width());if(null==this.exec_after)throw"Error: exec_after must be specified";this.exec_after()},close_obj:function(){this.close_btn.click()}}}})(jQuery);(function(a){jQuery.fn.icbm=function(b){this.REPLACE="_grey";this.menu_objs=[];var c=this;this.add_menu_items=function(b){var f=[];a(".icbm_object").each(function(){this.REPLACE=c.REPLACE;this.opened=!1;this.img=a(this).find(".icbm_image")[0];var d=this.img.src.replace("http://"+window.location.hostname+"/","");this.set_gscale=function(b){var c=a(this.img);b?(b=c.attr("src"),-1==b.search(this.REPLACE)&&(src_parts=b.split("."),c.attr("src",src_parts[0]+this.REPLACE+"."+src_parts[1]),this.opened=!1)):
c.attr("src",c.attr("src").replace(this.REPLACE,""))};a(this).mouseover(a.proxy(function(){this.set_gscale(!1)},this));a(this).mouseout(function(){!1==this.opened&&this.set_gscale(!0)});a(this).click(a.proxy(function(){c.all_to_grey();try{b[d]()}catch(a){b["http://"+LOCATION+"/"+d]()}this.set_gscale(!1);this.opened=!0},this));f.push(this)});this.menu_objs=f};this.all_to_grey=function(){for(var a=0;a<this.menu_objs.length;a++)this.menu_objs[a].set_gscale(!0)};this.set_open=function(b){a(this.menu_objs[b]).click()};
this.settings={map_imgs:{}};b&&a.extend(this.settings,b);this.add_menu_items(this.settings.map_imgs);return this}})(jQuery);if("function"!==typeof Object.nu)Object.nu=function(a){function b(){}b.prototype=a;return new b};else throw"Object.nu is already defined";
utility={SHOW:"-",HIDE:"+",attach_show_events:function(a){return Object.nu({init:function(b){this.triggers=a.triggers;this.event=a.event;this.collapsers=a.collapsers;this.on_hide=a.on_hide;this.on_show=a.on_show;this.chk_attr="name";a.chk_attr&&(this.chk_attr=a.chk_attr);b||this.attach_events();return this},attach_events:function(){this.order_matchers_by_name();for(var a=0,c=0;a<this.triggers.length&&c<this.triggers.length;c++)$(this.triggers[a]).attr(this.chk_attr)==$(this.collapsers[c]).attr(this.chk_attr)&&
(this.triggers[a].collapser=this.collapsers[c],$(this.triggers[a])[this.event]($.proxy(this.on_event,this)),a+=1)},on_event:function(a){a=a.currentTarget;if("none"==$(a.collapser).css("display"))this.on_show(a,a.collapser);else this.on_hide(a,a.collapser)},open:function(a){this.do_event("on_show",a);return this},close:function(a){this.do_event("on_hide",a);return this},do_event:function(a,c){if("all"==c)for(var e=0;e<this.triggers.length;e++)this[a](this.triggers[e],this.triggers[e].collapser);else this[a](this.triggers[c],
this.triggers[c].collapser)},order_matchers_by_name:function(){if(!this.triggers||!this.triggers.sort||!this.collapsers||!this.collapsers.sort)return!1;if(this.triggers.length!=this.collapsers.length)throw"triggers must be the same length as collapsers";var a=this,c=function(c,f){return $(c).attr(a.chk_attr)>$(f).attr(a.chk_attr)?1:$(c).attr(a.chk_attr)<$(f).attr(a.chk_attr)?-1:0};this.triggers.sort(c);this.collapsers.sort(c);return!0},get_collapsee:function(a){a=a.id.split("_").pop();return $("#"+
this.collapse_to+a)}}.init(a.delay))}};LOCATION=window.location.hostname;
start_system=function(){var a=$().window_tiles({after:[function(){pages.init_home()},function(){pages.init_skills()},function(){pages.init_exp()},function(){pages.init_demos()},function(){pages.init_blog()}]});""!=window.location.port&&(LOCATION+=":"+window.location.port);var b={},c=["/images/menu_icons/home_page_grey.png","/images/menu_icons/skills_page_grey.png","/images/menu_icons/experience_page_grey.png","/images/menu_icons/demos_page_grey.png","/images/menu_icons/blog_page_grey.png"];b["http://"+
LOCATION+c[0]]=function(){a.open_item(0)};b["http://"+LOCATION+c[1]]=function(){a.open_item(1)};b["http://"+LOCATION+c[2]]=function(){a.open_item(2)};b["http://"+LOCATION+c[3]]=function(){a.open_item(3)};b["http://"+LOCATION+c[4]]=function(){a.open_item(4)};b=$(document.body).icbm({map_imgs:b});switch(window.location.pathname.replace("/","").replace("#","")){case "home":b.set_open(0);break;case "skills":b.set_open(1);break;case "experience":b.set_open(2);break;case "demos":b.set_open(3);break;case "blog":b.set_open(4);
break;default:b.set_open(0)}};
var pages=function(){return{defaults:function(){$("img").each(function(){"icbm_image"!=$(this).attr("class")&&("mainImg"!=$(this)[0].id&&"link"!=$(this).attr("class"))&&this.parentNode.addEventListener("mousedown",function(a){"hMainPicture"==a.target.id?demos_ns.resize_img(a.target.childNodes[1]):demos_ns.resize_img(a.target)},!0)})},init_home:function(){this.defaults();$(".mainImage").each(function(a,b){$(b).attr("src",$("#mainImg").attr("src").replace("_s",""))})},init_skills:function(){this.defaults();
skills_ns.init()},init_exp:function(){this.defaults();exp_ns.init()},init_demos:function(){this.defaults();demos_ns.init()},init_blog:function(){this.defaults();blog_ns.init()},update_url:function(a){for(var b=null,c=0;c<constant.pages.length;c++)if(c==a){b=constant.pages[c].toLowerCase();break}if(!b)throw"Error: "+a+" was not found in the list of pages.";window.history.pushState?window.history.pushState(constant.page_text[b].title+b+" page",constant.page_text[b].title,"/"+b):window.location.href=
window.location.href.split("#")[0]+"#"+b;document.title=constant.page_text[b].title}}}();var skills_ns=function(){return{init:function(){for(var a=utility.attach_show_events({triggers:$("div[id^=skills_collapse_skill]:visible"),event:"click",collapsers:$("div[id^=collapse_points_skill]:visible"),delay:!1,on_show:function(a,b){$(b).show();$("#skills_collapse_button_"+a.id.split("_").pop())[0].innerHTML=utility.SHOW},on_hide:function(a,b){$(b).hide();$("#skills_collapse_button_"+a.id.split("_").pop())[0].innerHTML=utility.HIDE}}),b=constant.page_text.skills.skill_types,c=0;c<b.length;c++)utility.attach_show_events({triggers:$("button[id^=skills_point_collapse_skill_"+
c+"]:visible"),event:"click",collapsers:$("div[id^=collapse_point_points_skill_"+c+"]:visible"),delay:!1,parent:this,on_show:function(a,b){$(b).show();a.innerHTML=utility.SHOW},on_hide:function(a,b){$(b).hide();a.innerHTML=utility.HIDE}}).close("all");a.close("all").open(0)}}}();exp_ns=function(){return{init:function(){for(var a=$(".job:visible"),b=0;b<a.length;b++)$("#job"+b+"jobText")[0]||(a.splice(b,1),b--);utility.attach_show_events({triggers:a,event:"click",collapsers:$(".jobText:visible"),delay:!1,on_show:function(a,b){$(b).show();$("#job"+a.id[a.id.length-1]+"Clps")[0].innerHTML=utility.SHOW},on_hide:function(a,b){$(b).hide();$("#job"+a.id[a.id.length-1]+"Clps")[0].innerHTML=utility.HIDE}}).close("all").open(0)}}}();demos_ns=function(){return{init:function(){utility.attach_show_events({triggers:$('div[id^="demo_"]:visible'),event:"click",collapsers:$('div[id^="demolinks_"]:visible'),delay:!1,on_show:function(a,b){$(b).show();$("#demo"+a.id[a.id.length-1]+"Clps")[0].innerHTML=utility.SHOW},on_hide:function(a,b){$(b).hide();$("#demo"+a.id[a.id.length-1]+"Clps")[0].innerHTML=utility.HIDE}}).close("all").open(0)},resize_img:function(a){a=$("<img/>").attr("src",a.src.replace("_s","")).attr("id",a.id+"_clone");a.lightbox_me({destroyOnClose:!0,
centered:!0});a.click(function(){$(this).trigger("close")})},remove_resize:function(a){document.body.removeChild(a);document.body.removeChild(void 0);document.body.removeChild(void 0)},display_flash:function(a){window.location=null==a?"video.html":a}}}();blog_ns=function(){return{init:function(){}}}();
