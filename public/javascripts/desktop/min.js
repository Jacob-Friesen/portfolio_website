(function(b){b.fn.watch=function(c,a,e,d){function f(a,c,d){a.each(function(){var a=b(this);"object"==typeof a.get(0).onpropertychange?a.bind("propertychange."+c,d.fnc):b.browser.mozilla?a.bind("DOMAttrModified."+c,d.fnc):d.intervalId=setInterval(d.fnc,e)})}function g(a){var d=b(this),c=d.data(a);if(c&&c.func){d.unwatch(a);var e=!1,g=0;for(g;g<c.props.length;g++){var k=d.css(c.props[g]);if(c.vals[g]!=k){c.vals[g]=k;e=!0;break}}e&&c.func.call(this,c,g);f(d,a,c)}}e||(e=100);d||(d="_watcher");return this.each(function(){var h=
this,i=b(this),j={id:d,props:c.split(","),vals:[c.split(",").length],func:a,fnc:function(){g.call(h,d)},origProps:c,interval:e,intervalId:null};b.each(j.props,function(b){j.vals[b]=i.css(j.props[b])});i.data(d,j);f(i,d,j)})};b.fn.unwatch=function(c){this.each(function(){var a=b(this),e=a.data(c);try{"object"==typeof this.onpropertychange?a.unbind("propertychange."+c,e.fnc):b.browser.mozilla?a.unbind("DOMAttrModified."+c,e.fnc):clearInterval(e.intervalId)}catch(d){}});return this}})(jQuery);(function(b){b.fn.menu_to_actions=function(c){this.REPLACE="_grey";this.menu_objects=[];this.settings={map_imgs:{},menu_image_at:null};c&&b.extend(this.settings,c);this.add_menu_items=function(a,c){var d=this;this.each(function(){this.opened=!1;this.img=b(this).find(c)[0];var f=this.img.src.replace("http://"+window.location.hostname+"/","");this.set_gscale=function(a){var c=b(this.img);a?(a=c.attr("src"),-1==a.search(d.REPLACE)&&(a=a.split("."),c.attr("src",a[0]+d.REPLACE+"."+a[1]),this.opened=!1)):
c.attr("src",c.attr("src").replace(d.REPLACE,""))};b(this).mouseover(function(){this.set_gscale(!1)});b(this).mouseout(function(){!1===this.opened&&this.set_gscale(!0)});b(this).click(function(){d.all_to_grey();try{a[f](this.img)}catch(b){a["http://"+Portfolio.location+"/"+f](this.img)}this.set_gscale(!1);this.opened=!0});d.menu_objects.push(this)})};this.all_to_grey=function(){for(var b=0;b<this.menu_objects.length;b++)this.menu_objects[b].set_gscale(!0)};this.set_open=function(a){b(this.menu_objects[a]).click()};
this.add_menu_items(this.settings.map_imgs,this.settings.menu_image_at);return this}})(jQuery);Portfolio.skills=function(b,c,a){return{init:function(){for(var e=a.attach_show_events({triggers:b("div[id^=skills_collapse_skill]:visible"),event:"click",collapsers:b("div[id^=collapse_points_skill]:visible"),delay:!1,on_show:function(c,d){b(d).show();b("#skills_collapse_button_"+c.id.split("_").pop())[0].innerHTML=a.SHOW},on_hide:function(c,d){b(d).hide();b("#skills_collapse_button_"+c.id.split("_").pop())[0].innerHTML=a.HIDE}}),d=c.page_text.skills.skill_types,f=0;f<d.length;f++)a.attach_show_events({triggers:b("button[id^=skills_point_collapse_skill_"+
f+"]:visible"),event:"click",collapsers:b("div[id^=collapse_point_points_skill_"+f+"]:visible"),delay:!1,parent:this,on_show:function(c,d){b(d).show();c.innerHTML=a.SHOW},on_hide:function(c,d){b(d).hide();c.innerHTML=a.HIDE}}).close("all");e.close("all").open(0)}}}(jQuery,Portfolio.constants,Portfolio.utility);Portfolio.experience=function(b,c){return{init:function(){for(var a=b(".job:visible"),e=0;e<a.length;e++)b("#job"+e+"jobText")[0]||(a.splice(e,1),e--);c.attach_show_events({triggers:a,event:"click",collapsers:b(".jobText:visible"),delay:!1,on_show:function(a,e){b(e).show();b("#job"+a.id[a.id.length-1]+"Clps")[0].innerHTML=c.SHOW},on_hide:function(a,e){b(e).hide();b("#job"+a.id[a.id.length-1]+"Clps")[0].innerHTML=c.HIDE}}).close("all").open(0)}}}(jQuery,Portfolio.utility);Portfolio.demos=function(b,c){return{init:function(){c.attach_show_events({triggers:b('div[id^="demo_"]:visible'),event:"click",collapsers:b('div[id^="demolinks_"]:visible'),delay:!1,on_show:function(a,e){b(e).show();b("#demo"+a.id[a.id.length-1]+"Clps")[0].innerHTML=c.SHOW},on_hide:function(a,e){b(e).hide();b("#demo"+a.id[a.id.length-1]+"Clps")[0].innerHTML=c.HIDE}}).close("all").open(0)},resize_img:function(a){a=b("<img/>").attr("src",a.src.replace("_s","")).attr("id",a.id+"_clone");a.lightbox_me({destroyOnClose:!0,
centered:!0});a.click(function(){b(this).trigger("close")})}}}(jQuery,Portfolio.utility);Portfolio.blog=function(){return{init:function(){}}}();Portfolio.location=window.location.hostname;
Portfolio.start_system=function(){var b=Portfolio.pages,c=Portfolio.window_details,a=Portfolio.location;""!=window.location.port&&(a+=":"+window.location.port);var e={},d=["/images/menu_icons/home_page_grey.png","/images/menu_icons/skills_page_grey.png","/images/menu_icons/experience_page_grey.png","/images/menu_icons/demos_page_grey.png","/images/menu_icons/blog_page_grey.png"];e["http://"+a+d[0]]=function(a){c.open_item(a,b.init_home)};e["http://"+a+d[1]]=function(a){c.open_item(a,b.init_skills)};
e["http://"+a+d[2]]=function(a){c.open_item(a,b.init_exp)};e["http://"+a+d[3]]=function(a){c.open_item(a,b.init_demos)};e["http://"+a+d[4]]=function(a){c.open_item(a,b.init_blog)};a=$(".icbm_object").menu_to_actions({map_imgs:e,menu_image_at:".icbm_image"});switch(window.location.pathname.replace("/","").replace("#","")){case "home":a.set_open(0);break;case "skills":a.set_open(1);break;case "experience":a.set_open(2);break;case "demos":a.set_open(3);break;case "blog":a.set_open(4);break;default:a.set_open(0)}};
Portfolio.pages=function(b,c,a,e,d,f,g){function h(){b("img").each(function(){"icbm_image"!=b(this).attr("class")&&("mainImg"!=b(this)[0].id&&"link"!=b(this).attr("class"))&&this.parentNode.addEventListener("mousedown",function(b){"hMainPicture"===b.target.id?f.resize_img(b.target.childNodes[1]):f.resize_img(b.target)},!0)})}return{init_home:function(){h();b(".mainImage").each(function(a,c){b(c).attr("src",b("#mainImg").attr("src").replace("_s",""))})},init_skills:function(){h();e.init()},init_exp:function(){h();
d.init()},init_demos:function(){h();f.init()},init_blog:function(){h();g.init()},update_url:function(b){c.history.pushState?c.history.pushState(a.page_text[b].title+b+" page",a.page_text[b].title,"/"+b):c.location.href=c.location.href.split("#")[0]+"#"+b;c.document.title=a.page_text[b].title}}}(jQuery,window,Portfolio.constants,Portfolio.skills,Portfolio.experience,Portfolio.demos,Portfolio.blog);Portfolio.window_details=function(b,c,a,e){return{menu_list:{},PAGE_INTO:"window",open_item:function(a,f){if(!this.menu_list[a.src]){var g=this.menu_list,h=a.src,i;i={child:null,item_id:a.id,into:b("#"+this.PAGE_INTO),open_obj:function(){var a=b("#"+this.item_id+"_cache");null==a[0]?b.ajax({type:"GET",url:this.item_id+c.mode_to_get(),context:this,success:this.render_page}):this.render_page(a[0].innerHTML,!0)},render_page:function(a,d){!0!==d&&c.add_cache(this.item_id,a);this.into[0].innerHTML=a;this.child=
this.into.children(":first")[0];this.child.style.display="inline";b(this.into).height(b(this.child).height()+2);b(this.into).width(b(this.child).width());b(this.child).watch("height, width",function(){b(this.parentNode).height(b(this).height()+2);"microsoft internet explorer"===e.appName.toLowerCase()&&b(this.parentNode).height(b(this).height()+15);b(this.parentNode).width(b(this).width())});"microsoft internet explorer"===e.appName.toLowerCase()&&this.IE_Listen();this.adtnl_work(this.child)},IE_Listen:function(){this.child.onpropertychange=
function(){CHECK=50;this.height=0;b(this).children().each(b.proxy(function(a,c){this.height+=b(c).height()},this));b(this.parentNode).height(this.height+60);b(this.parentNode).width(b(this).width());var a=this;setTimeout(function(){a.fireEvent("onpropertychange",document.createEventObject())},CHECK)}},adtnl_work:function(a){b(a.parentNode.parentNode).width(b(a.parentNode).width());if(null===f)throw"Error: exec_after must be specified";f()}};g[h]=i}this.menu_list[a.src].open_obj();g=a.src.split("/").pop().split("_")[0];
Portfolio.pages.update_url(g);return this}}}(jQuery,Portfolio.selector,Portfolio.pages,navigator);
