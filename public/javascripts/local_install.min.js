Portfolio.localInstall=(function(e,a,b,d,f){var c={manifest:b+"/portfolio.webapp",message:"Install Locally",attach:(f==="desktop")?".contact_footer":"#social_media",buttonClass:"install_local",error:"Email jacob@jacobfriesen.com with the steps you have taken to get here."};function g(){var h=e("<button></button>");h[0].innerHTML=c.message;h[0].className=c.buttonClass;e(c.attach).append(h);Portfolio.utility.change_text.register_elements([h]);h.click(function(i){var j=a.install(c.manifest);j.onsuccess=function(k){h.remove()};j.onerror=function(k){if(j.error.name==="DENIED"){return true}if(j.error.name==="REINSTALL_FORBIDDEN"){alert("This app has already been installed on your device.")}else{alert("Error: "+j.error.name+"\n"+c.error)}}})}return function(){if(a&&a.install){var h=a.checkInstalled(c.manifest);h.onsuccess=function(){if(!h.result){g()}}}}})($,navigator.mozApps,"http://"+window.location.host,navigator.userAgent,Portfolio.selector.get_mode());