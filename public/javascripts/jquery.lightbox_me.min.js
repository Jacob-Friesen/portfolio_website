/*
* $ lightbox_me
* By: Buck Wilson
* Version : 2.3
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*     http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/
/*
 * JF: Removed ie6 support to support jQuery 1.9 (https://github.com/buckwilson/Lightbox_me/issues/49)
 */
(function(a){a.fn.lightbox_me=function(b){return this.each(function(){var d=a.extend({},a.fn.lightbox_me.defaults,b),j=a(),i=a(this),k=a('<iframe id="foo" style="z-index: '+(d.zIndex+1)+';border: none; margin: 0; padding: 0; position: absolute; width: 100%; height: 100%; top: 0; left: 0; filter: mask();"/>');if(d.showOverlay){var e=a(".js_lb_overlay:visible");if(e.length>0){j=a('<div class="lb_overlay_clear js_lb_overlay"/>')}else{j=a('<div class="'+d.classPrefix+'_overlay js_lb_overlay"/>')}}a("body").append(i.hide()).append(j);if(d.showOverlay){f();j.css({position:"absolute",width:"100%",top:0,left:0,right:0,bottom:0,zIndex:(d.zIndex+2),display:"none"});if(!j.hasClass("lb_overlay_clear")){j.css(d.overlayCSS)}}if(d.showOverlay){j.fadeIn(d.overlaySpeed,function(){c();i[d.appearEffect](d.lightboxSpeed,function(){f();c();d.onLoad()})})}else{c();i[d.appearEffect](d.lightboxSpeed,function(){d.onLoad()})}if(d.parentLightbox){d.parentLightbox.fadeOut(200)}a(window).resize(f).resize(c).scroll(c);a(window).bind("keyup.lightbox_me",h);if(d.closeClick){j.click(function(l){g();l.preventDefault})}i.delegate(d.closeSelector,"click",function(l){g();l.preventDefault()});i.bind("close",g);i.bind("reposition",c);function g(){var l=i[0].style;if(d.destroyOnClose){i.add(j).remove()}else{i.add(j).hide()}if(d.parentLightbox){d.parentLightbox.fadeIn(200)}k.remove();i.undelegate(d.closeSelector,"click");a(window).unbind("reposition",f);a(window).unbind("reposition",c);a(window).unbind("scroll",c);a(window).unbind("keyup.lightbox_me");d.onClose()}function h(l){if((l.keyCode==27||(l.DOM_VK_ESCAPE==27&&l.which==0))&&d.closeEsc){g()}}function f(){if(a(window).height()<a(document).height()){j.css({height:a(document).height()+"px"});k.css({height:a(document).height()+"px"})}else{j.css({height:"100%"})}}function c(){var m=i[0].style;i.css({left:"50%",marginLeft:(i.outerWidth()/2)*-1,zIndex:(d.zIndex+3)});if((i.height()+80>=a(window).height())&&(i.css("position")!="absolute")){var l=a(document).scrollTop()+40;i.css({position:"absolute",top:l+"px",marginTop:0})}else{if(i.height()+80<a(window).height()){if(d.centered){i.css({position:"fixed",top:"50%",marginTop:(i.outerHeight()/2)*-1})}else{i.css({position:"fixed"}).css(d.modalCSS)}}}}})};a.fn.lightbox_me.defaults={appearEffect:"fadeIn",appearEase:"",overlaySpeed:250,lightboxSpeed:300,closeSelector:".close",closeClick:true,closeEsc:true,destroyOnClose:false,showOverlay:true,parentLightbox:false,onLoad:function(){},onClose:function(){},classPrefix:"lb",zIndex:999,centered:false,modalCSS:{top:"40px"},overlayCSS:{background:"black",opacity:0.3}}})(jQuery);
